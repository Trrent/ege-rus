# Telegram-бот для подготовки к ЕГЭ по русскому языку

## Описание
Проект представляет собой Telegram-бота, который помогает готовиться к заданиям ЕГЭ по русскому языку. Пользователь выбирает тип задания, получает случайный вопрос из локальной базы и проходит мини-тесты в формате встроенных опросов Telegram. Результаты и статистика хранятся в базе данных, что позволяет возобновлять тренировку с того же типа задания.

## Основные возможности
- Команды `/start`, `/menu`, `/stop`, `/help` для навигации.
- Выбор уровня задания: от 4 до 12 по кнопкам.
- Автоматическая подгрузка следующего вопроса после ответа на опрос.
- Обработка ошибок с отправкой уведомлений администратору.
- Возможность использовать бота как serverless-функцию через `process_update_event`.

## Требования
- Python 3.10+
- SQLite (ставится вместе с Python)
- Telegram Bot API токен

## Установка и запуск
1. Клонируйте репозиторий и перейдите в каталог проекта:
   ```bash
   git clone <repo-url>
   cd ege-rus
   ```
2. Создайте виртуальное окружение и активируйте его:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Windows: venv\Scripts\activate
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Скопируйте файл `.env.example` (если есть) или создайте `.env` в корне проекта и заполните переменные:
   ```ini
   TOKEN=токен_вашего_бота
   MY_ID=ваш_telegram_id  # для уведомлений и админ-команд
   ```
5. Убедитесь, что база `bot/db/ege.db` находится на месте. Если файла нет, создайте пустой SQLite-файл и примените миграции/скрипты наполнения из каталога `migration` (см. инструкции внутри).
6. Запустите бота в режиме polling:
   ```bash
   python bot/main.py
   ```

## Логи и отладка
- Логи выводятся в stdout; при необходимости измените уровень логирования в функции `run_bot`.
- При исключениях бот отправляет текст ошибки и идентификатор задания администратору (`MY_ID`).
